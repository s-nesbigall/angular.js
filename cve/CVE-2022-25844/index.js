class AppCtrl {
  constructor($locale, $timeout) {
    'ngInject';
    const ctrl = this;
    ctrl.currencySymbol = '$';
    ctrl.amount = 100;
    ctrl.posPre = $locale.NUMBER_FORMATS.PATTERNS[1].posPre;

    ctrl.onPosPreChange = () => {
      $locale.NUMBER_FORMATS.PATTERNS[1].posPre = ctrl.posPre;
      const amount = ctrl.amount;
      ctrl.amount = 0;
      $timeout(() => (ctrl.amount = amount));
    };

    ctrl.onReDos = (repeat) => {
      ctrl.currencySymbol = '';
      ctrl.posPre = ' '.repeat(repeat);
      $locale.NUMBER_FORMATS.PATTERNS[1].posPre = ctrl.posPre;
    };
  }
}

// Define and configure the app.
window.angular
  .module('app', [])
  .controller('AppCtrl', AppCtrl);
