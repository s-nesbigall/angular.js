<head>
  <meta charset="utf-8" />
  <title>AngularJS $filter Currency ReDos Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!--script src="./node_modules/angular/angular.js" type="text/javascript"></script-->
  <script src="../../build/angular.js" type="text/javascript"></script>
  <script src="./index.js" type="text/javascript"></script>
</head>

<body ng-app="app" ng-controller="AppCtrl as $ctrl">
<main layout="column">
  <h1 class="md-headline">AngularJS $filter Currency ReDos Demo</h1>
  <section md-whiteframe="1" class="md-padding">
    <div>
      <label>Currency Symbol</label>
      <input name="symbol" ng-model="$ctrl.currencySymbol" ng-trim="false" />
    </div>
    <div>
      <label>Amount</label>
      <input name="amount" ng-model="$ctrl.amount" ng-trim="false" />
    </div>
    <div>
      <label>
        Locale Service
        <pre style="display: inline; font-weight: bold">posPre</pre>
        Value
      </label>
      <input
        name="posPre"
        ng-model="$ctrl.posPre"
        ng-change="$ctrl.onPosPreChange()"
        ng-trim="false"
      />
    </div>
    <br />
    <span style="font-weight: bold">Output: </span>
    {{ $ctrl.amount | currency : $ctrl.currencySymbol }}
    <br />
    <br />
    <br />
    <div>
      <div class="md-title" style="margin-bottom: 4px">WARNING</div>
      Clicking the <span style="font-style: italic">ReDos Now</span> button
      will:
      <ul>
        <li>
          Set the
          <span style="font-style: italic">Currency Symbol</span>
          input to an empty string
        </li>
        <li>
          Set the
          <span style="font-style: italic">
            Locale Service
            <pre style="display: inline; font-weight: bold">posPre</pre>
            Value
          </span>
          input to 1,000,0000 whitespace characters
        </li>
      </ul>
      <span style="font-weight: bold">THIS WILL FREEZE THE WINDOW</span>
    </div>
    <br />
    <button ng-click="$ctrl.onReDos(10000)" class="md-raised md-primary">
      ReDos Now 10000
    </button>
    <button ng-click="$ctrl.onReDos(100000)" class="md-raised md-primary">
      ReDos Now 100000
    </button>
    <button ng-click="$ctrl.onReDos(1000000)" class="md-raised md-primary">
      ReDos Now 1000000
    </button>
    <button ng-click="$ctrl.onReDos(10000000)" class="md-raised md-primary">
      ReDos Now 10000000
    </button>
  </section>
</main>
</body>
